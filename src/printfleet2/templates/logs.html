{% extends "base.html" %}

{% block title %}PrintFleet2 | Logs{% endblock %}

{% block content %}
  <section class="container docs">
    <div class="docs-hero">
      <p class="eyebrow">Management</p>
      <h1>Logs</h1>
      <p class="lead">Recent print jobs and activity.</p>
    </div>

    <div class="card">
      <div class="table-header">
        <h3>Print jobs</h3>
        <div class="table-actions log-controls">
          <div class="log-filters">
            <label class="log-filter">
              Date range
              <select id="logRange">
                <option value="">Custom</option>
                <option value="current-week">Current week</option>
                <option value="current-month">Current month</option>
                <option value="current-year">Current year</option>
                <option value="last-28-days">Last 28 days</option>
              </select>
            </label>
            <label class="log-filter">
              Start date
              <input type="date" id="logStartDate" />
            </label>
            <label class="log-filter">
              End date
              <input type="date" id="logEndDate" />
            </label>
            <label class="log-filter">
              Entries
              <select id="logLimit" class="log-limit">
                <option value="5">5</option>
                <option value="25" selected>25</option>
                <option value="50">50</option>
                <option value="100">100</option>
                <option value="250">250</option>
                <option value="500">500</option>
              </select>
            </label>
          </div>
          <div class="log-actions">
            <button class="btn small log-action" id="logClear" type="button">Clear</button>
            <button class="btn soft small log-action" id="logRefresh" type="button">Refresh</button>
            <button class="btn soft small log-action" id="logExport" type="button">Export CSV</button>
          </div>
        </div>
      </div>
      <div id="logNotice" class="notice"></div>
      <div class="table-wrap">
        <table class="data-table">
          <thead>
            <tr>
              <th>Date</th>
              <th>G-Code file</th>
              <th>Printer</th>
              <th>User</th>
              <th>Print via</th>
            </tr>
          </thead>
          <tbody id="logTable">
            <tr>
              <td colspan="5" class="muted">No logs yet.</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="log-pagination" id="logPagination" hidden>
        <button class="btn small" id="logPagePrev" type="button">Previous</button>
        <span class="muted" id="logPageInfo"></span>
        <button class="btn small" id="logPageNext" type="button">Next</button>
      </div>
    </div>
  </section>
{% endblock %}

{% block scripts %}
  <script src="{{ url_for('static', filename='logs.js', v=app_version) }}" defer></script>
{% endblock %}
